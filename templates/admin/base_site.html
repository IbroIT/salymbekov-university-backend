{% extends "admin/base.html" %}

{% load static %}

{% block extrahead %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/custom_admin.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/advanced_admin.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéì</text></svg>">
    
    <!-- Google Fonts –¥–ª—è –ª—É—á—à–µ–π —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        }
        
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ */
        #branding::before {
            content: "";
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 3L1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82Z'/%3E%3C/svg%3E") no-repeat center;
            width: 32px;
            height: 32px;
            display: inline-block;
            margin-right: 12px;
            background-size: contain;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        
        .loading.hidden {
            display: none;
        }
    </style>
{% endblock %}

{% block title %}Salymbekov University - {{ title|default:"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å" }}{% endblock %}

{% block branding %}
    <div id="branding">
        <h1 id="site-name">
            <a href="{% url 'admin:index' %}">
                Salymbekov University
            </a>
        </h1>
        <div style="font-size: 12px; opacity: 0.8; margin-top: 5px; font-weight: 400;">
            –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
        </div>
    </div>
{% endblock %}

{% block footer %}
    <div id="footer" style="background: var(--white); border-top: 2px solid var(--border-color); padding: 20px; text-align: center; color: var(--medium-gray); margin-top: 40px;">
        <p style="margin: 0; font-size: 14px;">
            ¬© {{ "now"|date:"Y" }} –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –°–∞–ª—ã–º–±–µ–∫–æ–≤–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
        </p>
        <p style="margin: 5px 0 0 0; font-size: 12px; opacity: 0.7;">
            –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º v1.0
        </p>
    </div>
    
    <!-- –ü—Ä–æ—Å—Ç–æ–π JavaScript –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function() {
                    const loading = document.createElement('div');
                    loading.className = 'loading';
                    loading.innerHTML = '<div class="spinner"></div>';
                    document.body.appendChild(loading);
                    
                    setTimeout(() => {
                        loading.classList.add('hidden');
                    }, 500);
                });
            });
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
            const currentPath = window.location.pathname;
            const menuLinks = document.querySelectorAll('#nav-sidebar a');
            menuLinks.forEach(link => {
                if (link.getAttribute('href') === currentPath) {
                    link.style.background = 'rgba(255, 255, 255, 0.15)';
                    link.style.borderRadius = '6px';
                }
            });
            
            // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã
            const firstInput = document.querySelector('input[type="text"], input[type="email"], input[type="password"], textarea, select');
            if (firstInput && !firstInput.readOnly) {
                firstInput.focus();
            }
        });
    </script>
{% endblock %}
